(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(t,e,n){},30:function(t,e,n){t.exports=n.p+"static/media/tasks-preloader.986e54dc.svg"},33:function(t,e,n){t.exports=n.p+"static/media/todolists-preloader.a67153fd.svg"},36:function(t,e,n){t.exports=n(64)},41:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(10),s=n.n(i),r=(n(41),n(3)),c=n(11),d=n(5),l=n(4),u=(n(20),n(12)),p=n(13),f=function(t){return o.a.createElement("button",{className:"add-item",onClick:t.onClick,disabled:t.disabled},o.a.createElement(u.a,{icon:p.a,className:"plus-icon"}))},h=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={error:!1,item:""},t.onAddItemClick=function(){var e=t.state.item;t.setState({item:""}),""===e?t.setState({error:!0}):(t.setState({error:!1}),t.props.addItem(e))},t.onItemChanged=function(e){t.setState({error:!1,item:e.currentTarget.value})},t.onKeyPress=function(e){"Enter"===e.key&&t.onAddItemClick()},t.render=function(){var e=t.state.error?"error":"";return o.a.createElement("div",{className:"addNewTaskForm"},o.a.createElement("input",{className:e,type:"text",placeholder:t.props.placeholder,onChange:t.onItemChanged,onKeyPress:t.onKeyPress,value:t.state.item}),o.a.createElement(f,{onClick:t.onAddItemClick,disabled:t.props.isFetching}))},t}return n}(o.a.Component),m=function(t){return o.a.createElement("button",{className:"delete-item",onClick:t.onClick},o.a.createElement(u.a,{icon:p.b,className:"trash-icon"}))},L=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,title:t.props.task.title},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.props.changeTitle(t.props.task,t.state.title),t.setState({editMode:!1})},t.onIsDoneChanged=function(e){var n=e.currentTarget.checked?2:0;t.props.changeStatus(t.props.task,n)},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.deleteTask=function(){t.props.deleteTask(t.props.task.id)},t.render=function(){var e=t.props.task.status,n=2===e?"taskDone":"";return o.a.createElement("div",{className:"todoList-task"},o.a.createElement("input",{onChange:t.onIsDoneChanged,type:"checkbox",checked:2===e}),t.state.editMode?o.a.createElement("input",{value:t.state.title,autoFocus:!0,onBlur:t.deactivateEditMode,onChange:t.onTitleChanged}):o.a.createElement("span",{onClick:t.activateEditMode,className:n},t.state.title),o.a.createElement(m,{onClick:t.deleteTask}))},t}return n}(o.a.Component),T=n(30),k=n.n(T),g=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:k.a,alt:"loading",style:{width:90,height:24}}))},b=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).render=function(){var e=t.props.tasks.map(function(e){return o.a.createElement(L,{task:e,changeStatus:t.props.changeStatus,changeTitle:t.props.changeTitle,key:e.id,deleteTask:t.props.deleteTask})});return o.a.createElement("div",{className:"todoList-tasks"},t.props.tasksIsFetching?o.a.createElement(g,null):e)},t}return n}(o.a.Component),O=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={isHidden:!1},t.onHideFilterClick=function(){t.setState({isHidden:!0})},t.onShowFilterClick=function(){t.setState({isHidden:!1})},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onCompletedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t.render=function(){var e="All"===t.props.filterValue?"filter-active":"",n="Completed"===t.props.filterValue?"filter-active":"",a="Active"===t.props.filterValue?"filter-active":"";return o.a.createElement("div",{className:"todoList-footer"},!t.state.isHidden&&o.a.createElement("div",null,o.a.createElement("button",{onClick:t.onAllFilterClick,className:e},"All"),o.a.createElement("button",{onClick:t.onCompletedFilterClick,className:n},"Completed"),o.a.createElement("button",{onClick:t.onActiveFilterClick,className:a},"Active")),!t.state.isHidden&&o.a.createElement("span",{className:"showHide",onClick:t.onHideFilterClick},"hide buttons"),t.state.isHidden&&o.a.createElement("span",{className:"showHide",onClick:t.onShowFilterClick},"show buttons"))},t}return n}(o.a.Component),v=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,title:t.props.title},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.props.changeTodoListTitle(t.state.title),t.setState({editMode:!1})},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.render=function(){return o.a.createElement(o.a.Fragment,null,t.state.editMode?o.a.createElement("input",{value:t.state.title,autoFocus:!0,onBlur:t.deactivateEditMode,onChange:t.onTitleChanged}):o.a.createElement("h3",{className:"todoList-header__title",onClick:t.activateEditMode},t.state.title))},t}return n}(o.a.Component),E=n(8),j=n(1),C=n(18),I=n(32),S=n.n(I).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"cd6b66cc-d0ef-4fb7-9f54-808df7c15bee"}}),F={addTodoList:function(t){return S.post("",{title:t}).then(function(t){return t.data})},getTodoLists:function(){return S.get("").then(function(t){return t.data})},changeTodoListTitle:function(t,e){return S.put("/".concat(t),{title:e}).then(function(t){return t.data})},deleteTodoList:function(t){return S.delete("/".concat(t)).then(function(t){return t.data})},getTasks:function(t){return S.get("/".concat(t,"/tasks")).then(function(t){return t.data})},createTask:function(t,e){return S.post("/".concat(e,"/tasks"),{title:t}).then(function(t){return t.data})},changeTask:function(t,e){var n=Object(j.a)(Object(j.a)({},t),e);return S.put("/".concat(t.todoListId,"/tasks/").concat(t.id),n).then(function(t){return t.data})},deleteTask:function(t,e){return S.delete("/".concat(t,"/tasks/").concat(e)).then(function(t){return t.data})}},y="todoList/todoListReducer/ADD-TODOLIST",w="todoList/todoListReducer/ADD-TASK",A="todoList/todoListReducer/CHANGE-TASK",N="todoList/todoListReducer/DELETE-TASK",D="todoList/todoListReducer/SET-TASKS",M={todoLists:[],todoListsIsFetching:!1},H=function(t){return{type:"todoList/todoListReducer/TODOLISTS-IS-FETCHING",isFetching:t}},R=function(t,e){return{type:"todoList/todoListReducer/TASKS-IS-FETCHING",todoListId:t,isFetching:e}},K=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y:return t=[].concat(Object(C.a)(e.todoLists),[n.newTodoList]),Object(j.a)(Object(j.a)({},e),{},{todoLists:t});case w:return t=e.todoLists.map(function(t){return t.id!==n.newTask.todoListId?t:Object(j.a)(Object(j.a)({},t),{},{tasks:[].concat(Object(C.a)(t.tasks),[n.newTask])})}),Object(j.a)(Object(j.a)({},e),{},{todoLists:t});case A:return t=e.todoLists.map(function(t){return t.id!==n.task.todoListId?t:Object(j.a)(Object(j.a)({},t),{},{tasks:t.tasks.map(function(t){return t.id!==n.task.id?t:Object(j.a)({},n.task)})})}),Object(j.a)(Object(j.a)({},e),{},{todoLists:t});case"todoList/todoListReducer/DELETE-TODOLIST":return t=e.todoLists.filter(function(t){return t.id!==n.todoListId}),Object(j.a)(Object(j.a)({},e),{},{todoLists:t});case N:return t=e.todoLists.map(function(t){return t.id!==n.todoListId?t:Object(j.a)(Object(j.a)({},t),{},{tasks:t.tasks.filter(function(t){return t.id!==n.taskId})})}),Object(j.a)(Object(j.a)({},e),{},{todoLists:t});case"todoList/todoListReducer/SET-TODOLISTS":return Object(j.a)(Object(j.a)({},e),{},{todoLists:n.todoLists.map(function(t){return Object(j.a)(Object(j.a)({},t),{},{tasks:[],taskIsFetching:!1})})});case D:return Object(j.a)(Object(j.a)({},e),{},{todoLists:e.todoLists.map(function(t){return t.id===n.todoListId?Object(j.a)(Object(j.a)({},t),{},{tasks:n.tasks}):t})});case"todoList/todoListReducer/CHANGE-TODOLIST-TITLE":return Object(j.a)(Object(j.a)({},e),{},{todoLists:e.todoLists.map(function(t){return t.id===n.todoListId?Object(j.a)(Object(j.a)({},t),{},{title:n.newTitle}):t})});case"todoList/todoListReducer/TODOLISTS-IS-FETCHING":return Object(j.a)(Object(j.a)({},e),{},{todoListsIsFetching:n.isFetching});case"todoList/todoListReducer/TASKS-IS-FETCHING":return Object(j.a)(Object(j.a)({},e),{},{todoLists:e.todoLists.map(function(t){return t.id===n.todoListId?Object(j.a)(Object(j.a)({},t),{},{taskIsFetching:n.isFetching}):t})});default:return e}},V=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={filterValue:"All"},t.restoreState=function(){t.props.getTasks(t.props.id)},t.deleteTodoList=function(){t.props.deleteTodoList(t.props.id)},t.changeTodoListTitle=function(e){t.props.changeTodoListTitle(t.props.id,e)},t.addTask=function(e){t.props.addTask(t.props.id,e)},t.deleteTask=function(e){t.props.deleteTask(t.props.id,e)},t.taskFilter=function(e){return e.filter(function(e){return"All"===t.state.filterValue||("Completed"===t.state.filterValue?2===e.status:"Active"===t.state.filterValue?0===e.status:void 0)})},t.changeFilter=function(e){t.setState({filterValue:e})},t.changeStatus=function(e,n){t.props.changeTask(e,{status:n})},t.changeTitle=function(e,n){t.props.changeTask(e,{title:n})},t.render=function(){var e=t.props.tasks,n=void 0===e?[]:e;return o.a.createElement("div",{className:"todoList"},o.a.createElement("div",{className:"todoList-header"},o.a.createElement("div",{style:{display:"flex",marginBottom:"15px"}},o.a.createElement(v,{title:t.props.title,changeTodoListTitle:t.changeTodoListTitle}),o.a.createElement(m,{onClick:t.deleteTodoList})),o.a.createElement(h,{addItem:t.addTask,placeholder:"new task",isFetching:t.props.tasksIsFetching})),o.a.createElement(b,{tasks:t.taskFilter(n),changeStatus:t.changeStatus,changeTitle:t.changeTitle,deleteTask:t.deleteTask,tasksIsFetching:t.props.tasksIsFetching}),o.a.createElement(O,{changeFilter:t.changeFilter,filterValue:t.state.filterValue}))},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.restoreState()}}]),n}(o.a.Component),x=Object(E.b)(null,{getTasks:function(t){return function(e){e(R(t,!0)),F.getTasks(t).then(function(n){if(!n.error){var a=n.items;e(function(t,e){return{type:D,todoListId:t,tasks:e}}(t,a)),e(R(t,!1))}})}},addTask:function(t,e){return function(n){F.createTask(e,t).then(function(t){if(0===t.resultCode){var e=t.data.item;n({type:w,newTask:e})}})}},changeTask:function(t,e){return function(n){F.changeTask(t,e).then(function(t){var e;0===t.resultCode&&n((e=t.data.item,{type:A,task:e}))})}},deleteTask:function(t,e){return function(n){F.deleteTask(t,e).then(function(a){0===a.resultCode&&n(function(t,e){return{type:N,todoListId:t,taskId:e}}(t,e))})}},changeTodoListTitle:function(t,e){return function(n){F.changeTodoListTitle(t,e).then(function(a){0===a.resultCode&&n(function(t,e){return{type:"todoList/todoListReducer/CHANGE-TODOLIST-TITLE",todoListId:t,newTitle:e}}(t,e))})}},deleteTodoList:function(t){return function(e){F.deleteTodoList(t).then(function(n){0===n.resultCode&&e(function(t){return{type:"todoList/todoListReducer/DELETE-TODOLIST",todoListId:t}}(t))})}}})(V),G=n(33),B=n.n(G),P=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:B.a,alt:"loading",style:{marginTop:100}}))},W=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).render=function(){var e=t.props.todoLists.map(function(t){return o.a.createElement(x,{key:t.id,id:t.id,title:t.title,tasks:t.tasks,tasksIsFetching:t.taskIsFetching})});return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"headItemForm"},o.a.createElement("span",{className:"createTodoText"},"Create new TodoList"),o.a.createElement(h,{addItem:t.props.addTodoList,placeholder:"new TodoList",isFetching:t.props.todoListsIsFetching})),t.props.todoListsIsFetching?o.a.createElement(P,null):o.a.createElement("div",{className:"todoLists"},e))},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getTodoLists()}}]),n}(o.a.Component),J=Object(E.b)(function(t){return{todoLists:t.todoLists.todoLists,todoListsIsFetching:t.todoLists.todoListsIsFetching}},{addTodoList:function(t){return function(e){F.addTodoList(t).then(function(t){if(0===t.resultCode){var n=t.data.item;e({type:y,newTodoList:n})}})}},getTodoLists:function(){return function(t){t(H(!0)),F.getTodoLists().then(function(e){t({type:"todoList/todoListReducer/SET-TODOLISTS",todoLists:e}),t(H(!1))})}}})(W);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=n(7),U=n(34),Y=n(35),$=Object(_.combineReducers)({todoLists:K}),q=Object(_.createStore)($,Object(Y.composeWithDevTools)(Object(_.applyMiddleware)(U.a)));s.a.render(o.a.createElement(E.a,{store:q},o.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.9f7fb5af.chunk.js.map